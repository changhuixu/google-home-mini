<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Uiowa Pictures</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="default.css">
</head>

<body>
<div class="container-fluid p-2">
  <a href="#" onclick="showGridView()" style="font-size: 22px;">Show All Pictures</a>
  <p />
  <div id="image_container">
    <div id='grid_view' class="d-flex flex-wrap justify-content-between">
      <div class='image_in_grid' onclick='showFullImage(1)'>
        <img src='img/01.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(2)'>
        <img src='img/02.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(3)'>
        <img src='img/03.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(4)'>
        <img src='img/04.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(5)'>
        <img src='img/05.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(6)'>
        <img src='img/06.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(7)'>
        <img src='img/07.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(8)'>
        <img src='img/08.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(9)'>
        <img src='img/09.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(10)'>
        <img src='img/10.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(11)'>
        <img src='img/11.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(12)'>
        <img src='img/12.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(13)'>
        <img src='img/13.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(14)'>
        <img src='img/14.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(15)'>
        <img src='img/15.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(16)'>
        <img src='img/16.JPG' />
      </div>
      <div class='image_in_grid' onclick='showFullImage(17)'>
        <img src='img/17.JPG' />
      </div>
    </div>
  </div>
</div>
  <script>
    function showFullImage(n) {
      var nn = n < 10 ? "0" + n : n;
      var image_path = ("img/" + nn + ".JPG");
      document.getElementById('image_container').innerHTML = `<img src="${image_path}" style="height: 100%;" />`;
    }
    function showGridView() {
      var content_string = "<div id = 'grid_view'>\
      <div class = 'image_in_grid' onclick='showFullImage(1)'>\
      <img src ='img/01.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(2)'>\
      <img src = 'img/02.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(3)'>\
      <img src = 'img/03.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(4)'>\
      <img src = 'img/04.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(5)'>\
      <img src = 'img/05.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(6)'>\
      <img src = 'img/06.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(7)'>\
      <img src = 'img/07.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(8)'>\
      <img src = 'img/08.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(9)'>\
      <img src = 'img/09.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(10)'>\
      <img src = 'img/10.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(11)'>\
      <img src ='img/11.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(12)'>\
      <img src = 'img/12.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(13)'>\
      <img src = 'img/13.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(14)'>\
      <img src = 'img/14.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(15)'>\
      <img src = 'img/15.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(16)'>\
      <img src = 'img/16.JPG' />\
      </div>\
      <div class = 'image_in_grid' onclick='showFullImage(17)'>\
      <img src = 'img/17.JPG' />\
      </div>\
      </div>";
      document.getElementById('image_container').innerHTML = content_string;
    }
    function refresh() {
      var xhttp = new XMLHttpRequest();
      xhttp.open("GET", "https://dog-pictures-7f1f1.firebaseio.com/picture.json", true);
      xhttp.send();
      xhttp.addEventListener("readystatechange", processRequest, false);
      function processRequest(e) {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
          var response = JSON.parse(xhttp.responseText);
          var numberString = response.number;
          if (numberString < 18 && numberString > 0) {
            showFullImage(numberString);
          } else {
            showGridView();
          }
          console.log(numberString);
        }
      }
      setTimeout(refresh, 1000);
    }
    refresh();
  </script>
</body>
<html>